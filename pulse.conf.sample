# PulseOS configuration file (template)
# Copy this to: /opt/pulse-os/pulse.conf

# ============================================================================
# Core Configuration
# ============================================================================

# PULSE_VERSION derived from git tag in the repo.
if [[ -z "${PULSE_VERSION:-}" ]]; then
  _pulse_conf_dir="$(cd "$(dirname "${BASH_SOURCE[0]:-${0}}")" && pwd)"
  if command -v git >/dev/null 2>&1 && [[ -d "${_pulse_conf_dir}/.git" ]]; then
    PULSE_VERSION="$(git -C "${_pulse_conf_dir}" describe --tags --abbrev=0 2>/dev/null | sed 's/^v//')" || PULSE_VERSION="0.0.0"
  else
    PULSE_VERSION="0.0.0"
  fi
  [[ -z "$PULSE_VERSION" ]] && PULSE_VERSION="0.0.0"
  unset _pulse_conf_dir
fi

# PULSE_USER — Linux account that auto-logs in and runs Pulse services.
PULSE_USER="pulse"

# ============================================================================
# Kiosk & Browser
# ============================================================================

# PULSE_URL — Chromium kiosk landing page opened after boot.
PULSE_URL="http://homeassistant.local:8123/dashboard-pulse/home"

# PULSE_REVIVE_INTERVAL — minutes between watchdog cron runs that restart the kiosk if needed.
PULSE_REVIVE_INTERVAL=2

# PULSE_WATCHDOG_URL — lightweight URL Chromium fetches to prove connectivity.
PULSE_WATCHDOG_URL="http://homeassistant.local:8123/static/icons/favicon.ico"

# PULSE_WATCHDOG_LIMIT — failed watchdog fetches before we restart the browser.
PULSE_WATCHDOG_LIMIT=5

# PULSE_WATCHDOG_INTERVAL — seconds between watchdog fetches.
PULSE_WATCHDOG_INTERVAL=60

# CHROMIUM_DEVTOOLS_URL — DevTools discovery endpoint for kiosk navigation/debug (default points to local Chromium).
CHROMIUM_DEVTOOLS_URL="http://localhost:9222/json"

# CHROMIUM_DEVTOOLS_TIMEOUT — timeout (seconds) for DevTools HTTP/WebSocket calls.
CHROMIUM_DEVTOOLS_TIMEOUT=3

# ============================================================================
# Overlay & Photo Frame
# ============================================================================

# PULSE_OVERLAY_ENABLED — enable the kiosk-hosted overlay HTML endpoint.
PULSE_OVERLAY_ENABLED="true"

# PULSE_OVERLAY_PORT — TCP port the overlay HTTP server listens on (default 8800).
PULSE_OVERLAY_PORT="8800"

# PULSE_OVERLAY_BIND — bind address for the overlay server (0.0.0.0 for all interfaces).
PULSE_OVERLAY_BIND="0.0.0.0"

# PULSE_OVERLAY_ALLOWED_ORIGINS — comma-separated list of allowed CORS origins (“*” allows all).
PULSE_OVERLAY_ALLOWED_ORIGINS="*"

# PULSE_OVERLAY_FONT_FAMILY — preferred overlay font (CSS font-family syntax).
# Example: PULSE_OVERLAY_FONT_FAMILY="Roboto"
# Fallback fonts are appended automatically if not provided.
PULSE_OVERLAY_FONT_FAMILY="Inter"

# PULSE_OVERLAY_AMBIENT_BG — CSS color for persistent cards (clocks, now playing).
PULSE_OVERLAY_AMBIENT_BG="rgba(0, 0, 0, 0.32)"

# PULSE_OVERLAY_ALERT_BG — CSS color for alert cards (timers, alarms).
PULSE_OVERLAY_ALERT_BG="rgba(0, 0, 0, 0.65)"

# PULSE_OVERLAY_TEXT_COLOR — primary overlay text color.
PULSE_OVERLAY_TEXT_COLOR="#FFFFFF"

# PULSE_OVERLAY_ACCENT_COLOR — accent color for titles and highlights.
PULSE_OVERLAY_ACCENT_COLOR="#88C0D0"

# PULSE_OVERLAY_NOTIFICATION_BAR — show the icon bar at the top of the overlay.
PULSE_OVERLAY_NOTIFICATION_BAR="true"

# PULSE_OVERLAY_CLOCK_24H — set to "true" for 24-hour clock display (default 12-hour).
PULSE_OVERLAY_CLOCK_24H="false"

# ============================================================================
# Telemetry & MQTT
# ============================================================================

# MQTT_HOST — hostname/IP of the MQTT broker Pulse publishes to.
MQTT_HOST="mosquitto.local"

# MQTT_PORT — MQTT broker port (defaults to 1883).
MQTT_PORT="1883"

# MQTT_USER — optional username for authenticated brokers.
MQTT_USER=""

# MQTT_PASS — optional password for authenticated brokers.
MQTT_PASS=""

# MQTT_TLS_ENABLED — set to "true" to enable TLS for MQTT connections.
MQTT_TLS_ENABLED="false"

# MQTT_CERT — optional TLS client certificate path (used when MQTT_TLS_ENABLED is true).
MQTT_CERT=""

# MQTT_KEY — optional TLS client key path.
MQTT_KEY=""

# MQTT_CA_CERT — optional CA certificate path for broker validation.
MQTT_CA_CERT=""

# PULSE_VERSION_CHECKS_PER_DAY — how many times per day we poll for new PulseOS releases (2/4/6/8/12/24).
PULSE_VERSION_CHECKS_PER_DAY=12

# PULSE_TELEMETRY_INTERVAL_SECONDS — seconds between telemetry MQTT publishes (minimum 5s).
PULSE_TELEMETRY_INTERVAL_SECONDS=15

# ============================================================================
# Device Preferences & Toggles
# ============================================================================

# PULSE_LOCATION — location string for weather, sunrise/sunset brightness control, etc
# (lat,lon | ZIP | "City, ST" | plus code | what3words)
PULSE_LOCATION=""

# PULSE_DAY_BRIGHTNESS — daytime brightness target (%) for sunrise/sunset automation.
# (default) PULSE_DAY_BRIGHTNESS="85"

# PULSE_NIGHT_BRIGHTNESS — nighttime brightness target (%) for sunrise/sunset automation.
# (default) PULSE_NIGHT_BRIGHTNESS="25"

# PULSE_TWILIGHT_MODE — OFFICIAL, CIVIL, NAUTICAL, or ASTRONOMICAL.
# (default) PULSE_TWILIGHT_MODE="OFFICIAL"

# PULSE_BACKLIGHT_DEVICE — backlight device path; leave unset to auto-detect.
# (default) PULSE_BACKLIGHT_DEVICE="/sys/class/backlight/11-0045"

# PULSE_DAY_NIGHT_AUTO — automatically adjust screen brightness for sunrise/sunset
PULSE_DAY_NIGHT_AUTO="true"

# PULSE_VOLUME_TEST_SOUND — plays the heartbeat "thump-thump" after MQTT volume changes.
PULSE_VOLUME_TEST_SOUND="true"

# ============================================================================
# Display Selection (DSI vs HDMI)
# ============================================================================

# PULSE_DISPLAY_TYPE — select "dsi" (default) for the ribbon Touch Display 2,
# or "hdmi" for external HDMI panels. Setup will configure boot args accordingly.
PULSE_DISPLAY_TYPE="dsi"

# HDMI-only settings (used when PULSE_DISPLAY_TYPE="hdmi"):
# Connector name for the kernel video arg (check `kmsprint`), common: HDMI-A-1.
PULSE_HDMI_CONNECTOR="HDMI-A-1"
# Kernel video mode for cmdline (e.g., 1280x800M@60, 1920x1080M@60).
PULSE_HDMI_MODE="1280x800M@60"
# hdmi_group/hdmi_mode for config.txt (28 = 1280x800@60); adjust for your panel.
PULSE_HDMI_GROUP=2
PULSE_HDMI_MODE_ID=28
# Rotation (0/1/2/3 → 0/90/180/270) for display_hdmi_rotate in config.txt.
PULSE_HDMI_ROTATE=0
# KMS device that owns the HDMI connector (Pi 5/CM5 often exposes HDMI on card1).
PULSE_HDMI_KMSDEV="/dev/dri/card1"

# ============================================================================
# Sounds
# ============================================================================

# PULSE_SOUNDS_DIR — directory for user-provided WAV/OGG files (defaults to ~/.local/share/pulse/sounds).
# PULSE_SOUNDS_DIR="/home/pulse/.local/share/pulse/sounds"

# PULSE_SOUND_ALARM — default alarm sound id or filename from the sound pack or custom dir.
PULSE_SOUND_ALARM="alarm-digital-rise"

# PULSE_SOUND_TIMER — default timer sound id or filename (falls back to PULSE_SOUND_ALARM if unset).
PULSE_SOUND_TIMER="timer-woodblock"

# PULSE_SOUND_REMINDER — default reminder sound id or filename.
PULSE_SOUND_REMINDER="reminder-marimba"

# PULSE_SOUND_NOTIFICATION — default notification/volume chime id or filename.
PULSE_SOUND_NOTIFICATION="notify-soft-chime"

# PULSE_BLUETOOTH_AUTOCONNECT — automatically reconnect to the last paired Bluetooth audio device and send keepalives.
PULSE_BLUETOOTH_AUTOCONNECT="true"

# PULSE_BT_MAC — optional Bluetooth MAC (XX:XX:XX:XX:XX:XX) to force which device we connect to.
PULSE_BT_MAC=""

# ============================================================================
# Logging & Reliability
# ============================================================================

# PULSE_REMOTE_LOGGING — enable remote syslog forwarding.
PULSE_REMOTE_LOGGING="true"

# PULSE_REMOTE_LOG_HOST — remote syslog server hostname/IP.
PULSE_REMOTE_LOG_HOST="192.168.1.100"

# PULSE_REMOTE_LOG_PORT — remote syslog server port.
PULSE_REMOTE_LOG_PORT="5514"

# PULSE_DAILY_REBOOT_ENABLED — set to "true" to keep the legacy 3 AM safe reboot timer.
PULSE_DAILY_REBOOT_ENABLED="false"

# PULSE_REBOOT_MIN_UPTIME_SECONDS — minimum uptime (seconds) before an automatic reboot is allowed.
PULSE_REBOOT_MIN_UPTIME_SECONDS="300"

# PULSE_REBOOT_WINDOW_SECONDS — rolling window (seconds) for counting automatic reboots.
PULSE_REBOOT_WINDOW_SECONDS="900"

# PULSE_REBOOT_MAX_COUNT — maximum automatic reboots inside that rolling window.
PULSE_REBOOT_MAX_COUNT="3"

# ============================================================================
# Voice Assistant (Wyoming + LLM)
# ============================================================================

# --- Pipeline & routing -----------------------------------------------------
# PULSE_VOICE_ASSISTANT — enable the wake word/STT/TTS stack that talks to your Wyoming servers.
PULSE_VOICE_ASSISTANT="false"

# PULSE_ASSISTANT_WAKE_WORDS_PULSE — comma-separated wyoming-openwakeword models handled by the local “Pulse” pipeline.
PULSE_ASSISTANT_WAKE_WORDS_PULSE="hey_jarvis"

# PULSE_ASSISTANT_WAKE_WORDS_HA — models that should route audio through Home Assistant Assist instead of the Pulse pipeline.
PULSE_ASSISTANT_WAKE_WORDS_HA="ok_nabu"

# PULSE_ASSISTANT_WAKE_ROUTES — optional explicit mapping (model=pipeline) to override the defaults above.
# PULSE_ASSISTANT_WAKE_ROUTES="hey_jarvis=pulse,hey_house=home_assistant"
# PULSE_ASSISTANT_LANGUAGE — optional language hint passed to the STT engine and LLM.
PULSE_ASSISTANT_LANGUAGE="en"

# PULSE_ASSISTANT_WAKE_SOUND — chime when a wake word fires (set to "false" for silent wakes).
PULSE_ASSISTANT_WAKE_SOUND="true"

# PULSE_ASSISTANT_SPEAKING_STYLE — persona hint for the Pulse pipeline (relaxed, normal, aggressive).
PULSE_ASSISTANT_SPEAKING_STYLE="normal"

# PULSE_ASSISTANT_WAKE_SENSITIVITY — maps to openWakeWord trigger levels (low=5, normal=3, high=2).
PULSE_ASSISTANT_WAKE_SENSITIVITY="normal"

# PULSE_ASSISTANT_HA_RESPONSE_MODE — spoken response style for HA actions (none, tone, minimal, full).
PULSE_ASSISTANT_HA_RESPONSE_MODE="full"

# PULSE_ASSISTANT_HA_TONE_SOUND — sound id used when HA response mode is "tone".
PULSE_ASSISTANT_HA_TONE_SOUND="notify-soft-chime"

# PULSE_ASSISTANT_SELF_AUDIO_TRIGGER_LEVEL — enforced trigger level while self audio is active (minimum 2).
PULSE_ASSISTANT_SELF_AUDIO_TRIGGER_LEVEL="7"

# PULSE_ASSISTANT_LOG_LEVEL — Python logging level (DEBUG, INFO, WARNING, ERROR). Defaults to INFO.
# Set to "DEBUG" to see detailed calendar sync and event processing logs.
# PULSE_ASSISTANT_LOG_LEVEL="INFO"
# PULSE_ASSISTANT_LOG_LLM — publish transcripts/responses to MQTT (for dashboards/automation). Default true.
# PULSE_ASSISTANT_LOG_LLM="true"
# PULSE_ASSISTANT_LOG_TRANSCRIPTS — log transcripts/responses locally at INFO. Default false.
# PULSE_ASSISTANT_LOG_TRANSCRIPTS="false"
# PULSE_ASSISTANT_TOPIC_BASE — override MQTT topic base (defaults to pulse/<hostname>/assistant). Most users leave this blank.
# PULSE_ASSISTANT_TOPIC_BASE=""

# --- Wyoming endpoints ------------------------------------------------------
# WYOMING_WHISPER_HOST — hostname/IP of your wyoming-whisper (speech-to-text) server.
WYOMING_WHISPER_HOST=""

# WYOMING_WHISPER_PORT — TCP port exposed by wyoming-whisper (default 10300).
WYOMING_WHISPER_PORT="10300"

# WYOMING_PIPER_HOST — hostname/IP of your wyoming-piper (text-to-speech) server.
WYOMING_PIPER_HOST=""

# WYOMING_PIPER_PORT — TCP port exposed by wyoming-piper (default 10200).
WYOMING_PIPER_PORT="10200"

# WYOMING_OPENWAKEWORD_HOST — hostname/IP of your wyoming-openwakeword detector.
WYOMING_OPENWAKEWORD_HOST=""

# WYOMING_OPENWAKEWORD_PORT — TCP port exposed by wyoming-openwakeword (default 10400).
WYOMING_OPENWAKEWORD_PORT="10400"

# --- Mic capture & phrase detection ----------------------------------------
# PULSE_ASSISTANT_MIC_CMD — ALSA command used to stream 16 kHz mono PCM into the pipeline.
PULSE_ASSISTANT_MIC_CMD="arecord -q -t raw -f S16_LE -c 1 -r 16000 -"
# Advanced: override mic capture parameters only if needed.
# PULSE_ASSISTANT_MIC_RATE=16000
# PULSE_ASSISTANT_MIC_WIDTH=2
# PULSE_ASSISTANT_MIC_CHANNELS=1
# PULSE_ASSISTANT_MIC_CHUNK_MS=30
# PULSE_ASSISTANT_STT_MODEL=""

# PULSE_ASSISTANT_MIN_PHRASE_SECONDS — minimum captured speech (seconds) before we consider it a phrase.
PULSE_ASSISTANT_MIN_PHRASE_SECONDS=1.5

# PULSE_ASSISTANT_MAX_PHRASE_SECONDS — cap on phrase duration before we auto-stop recording.
PULSE_ASSISTANT_MAX_PHRASE_SECONDS=8

# PULSE_ASSISTANT_SILENCE_MS — milliseconds of silence that signal end-of-phrase.
PULSE_ASSISTANT_SILENCE_MS=1200

# PULSE_ASSISTANT_RMS_THRESHOLD — RMS floor used to ignore background noise.
PULSE_ASSISTANT_RMS_THRESHOLD=120

# --- LLM provider -----------------------------------------------------------
# PULSE_ASSISTANT_PROVIDER — LLM backend slug; defaults to "openai".
# Options: "openai", "gemini", "anthropic", "groq", "mistral", "openrouter"
PULSE_ASSISTANT_PROVIDER="openai"
# Publish any provider name to pulse/<hostname>/preferences/llm_provider/set (or use the HA select)
# to change providers at runtime without editing this file.
# You can also change models at runtime via pulse/<hostname>/preferences/<provider>_model/set

# OPENAI_API_KEY — API key used when the provider is OpenAI (leave blank for other providers).
OPENAI_API_KEY=""

# OPENAI_MODEL — OpenAI chat/completions model to call for the Pulse pipeline.
OPENAI_MODEL="gpt-4o-mini"

# OPENAI_BASE_URL — override if you proxy OpenAI-compatible requests through another endpoint.
OPENAI_BASE_URL="https://api.openai.com/v1"

# OPENAI_TIMEOUT_SECONDS — request timeout for OpenAI API calls (seconds).
OPENAI_TIMEOUT_SECONDS=45

# GEMINI_API_KEY — API key when the provider is set to "gemini".
GEMINI_API_KEY=""

# GEMINI_MODEL — Gemini model to call when using Google’s Generative Language API.
GEMINI_MODEL="gemini-1.5-flash-latest"

# GEMINI_BASE_URL — override if you proxy Gemini requests through another endpoint.
GEMINI_BASE_URL="https://generativelanguage.googleapis.com/v1beta"

# GEMINI_TIMEOUT_SECONDS — request timeout for Gemini API calls (seconds).
GEMINI_TIMEOUT_SECONDS=45

# --- Anthropic Claude -------------------------------------------------------
# ANTHROPIC_API_KEY — API key for Anthropic's Claude models.
ANTHROPIC_API_KEY=""

# ANTHROPIC_MODEL — Claude model to use (haiku for speed, sonnet for quality).
ANTHROPIC_MODEL="claude-3-5-haiku-20241022"

# ANTHROPIC_BASE_URL — override if proxying Anthropic requests.
ANTHROPIC_BASE_URL="https://api.anthropic.com/v1"

# ANTHROPIC_TIMEOUT_SECONDS — request timeout for Anthropic API calls.
ANTHROPIC_TIMEOUT_SECONDS=45

# --- Groq (ultra-fast inference) --------------------------------------------
# GROQ_API_KEY — API key for Groq's inference service.
GROQ_API_KEY=""

# GROQ_MODEL — Groq model (llama, mixtral, gemma variants available).
GROQ_MODEL="llama-3.3-70b-versatile"

# GROQ_BASE_URL — Groq API endpoint (OpenAI-compatible).
GROQ_BASE_URL="https://api.groq.com/openai/v1"

# GROQ_TIMEOUT_SECONDS — request timeout (Groq is usually < 1s).
GROQ_TIMEOUT_SECONDS=30

# --- Mistral AI -------------------------------------------------------------
# MISTRAL_API_KEY — API key for Mistral AI.
MISTRAL_API_KEY=""

# MISTRAL_MODEL — Mistral model (mistral-small, mistral-medium, mistral-large).
MISTRAL_MODEL="mistral-small-latest"

# MISTRAL_BASE_URL — Mistral API endpoint (OpenAI-compatible).
MISTRAL_BASE_URL="https://api.mistral.ai/v1"

# MISTRAL_TIMEOUT_SECONDS — request timeout for Mistral API calls.
MISTRAL_TIMEOUT_SECONDS=45

# --- OpenRouter (model aggregator) ------------------------------------------
# OPENROUTER_API_KEY — API key for OpenRouter.
OPENROUTER_API_KEY=""

# OPENROUTER_MODEL — Model identifier (see openrouter.ai/models).
# Examples: meta-llama/llama-3.3-70b-instruct, google/gemini-2.0-flash-exp
OPENROUTER_MODEL="meta-llama/llama-3.3-70b-instruct"

# OPENROUTER_BASE_URL — OpenRouter API endpoint (OpenAI-compatible).
OPENROUTER_BASE_URL="https://openrouter.ai/api/v1"

# OPENROUTER_TIMEOUT_SECONDS — request timeout for OpenRouter API calls.
OPENROUTER_TIMEOUT_SECONDS=45

# --- Prompting, automations & TTS -------------------------------------------
# PULSE_ASSISTANT_SYSTEM_PROMPT="You are a friendly desk assistant..."
# PULSE_ASSISTANT_SYSTEM_PROMPT_FILE="/opt/pulse-os/prompt.txt"
# PULSE_ASSISTANT_TTS_VOICE — preferred Piper voice (leave blank to use server default).
PULSE_ASSISTANT_TTS_VOICE=""

# PULSE_ASSISTANT_ACTIONS_FILE — JSON file describing MQTT/HA action slugs (slug, description, topic, payload).
PULSE_ASSISTANT_ACTIONS_FILE="/opt/pulse-os/pulse-assistant-actions.json"

# PULSE_ASSISTANT_ACTIONS — inline JSON string with the same schema as the file above.
# PULSE_ASSISTANT_ACTIONS='[{"slug":"desk_lights_on","description":"Turn on desk lights","topic":"home/desk/lights/set","payload":{"state":"ON"}}]'

# --- On-screen responses ----------------------------------------------------
# PULSE_ASSISTANT_DISPLAY_SECONDS — how long the Tk response overlay should stay visible.
PULSE_ASSISTANT_DISPLAY_SECONDS=8

# PULSE_ASSISTANT_FONT_SIZE — response overlay font size (pixels).
PULSE_ASSISTANT_FONT_SIZE=28

# PULSE_MEDIA_PLAYER_ENTITY — HA media_player (or sensor) that represents this kiosk's audio output.
# Used by the on-screen overlay, MQTT telemetry, and to auto-pause/resume Music Assistant during wake-word interactions.
# Defaults to media_player.<hostname> (the Snapcast/Music Assistant player Pulse registers) when left blank.
# Override if Music Assistant exposes multiple players and you want a specific one.
PULSE_MEDIA_PLAYER_ENTITY=""
# PULSE_MEDIA_PLAYER_ENTITIES — optional comma-separated list of additional media players.
# PULSE_MEDIA_PLAYER_ENTITIES=""

# PULSE_ALERT_TOPICS — optional comma-separated list of MQTT alert topics to subscribe to.
# PULSE_ALERT_TOPICS=""
# PULSE_INTERCOM_TOPIC — optional custom intercom topic (defaults to pulse/<hostname>/assistant/intercom).
# PULSE_INTERCOM_TOPIC=""

# ============================================================================
# Information Services (news, weather, sports)
# ============================================================================

# PULSE_LANGUAGE — default language for news, weather, assistant responses (ISO code).
PULSE_LANGUAGE="en"

# News headlines (NewsAPI.org or compatible)
PULSE_NEWS_API_KEY=""
PULSE_NEWS_BASE_URL="https://newsapi.org/v2"
PULSE_NEWS_COUNTRY="us"
PULSE_NEWS_CATEGORY="general"
PULSE_NEWS_MAX_ARTICLES="5"

# Weather forecast (Open-Meteo + optional location helpers)
# Uses PULSE_LOCATION; supports lat,lon pairs, city names, ZIP codes, plus codes, or what3words strings.
PULSE_WEATHER_BASE_URL="https://api.open-meteo.com/v1/forecast"
PULSE_WEATHER_UNITS="auto"
PULSE_WEATHER_FORECAST_DAYS="3"
WHAT3WORDS_API_KEY=""

# Sports headlines + standings (ESPN public APIs)
PULSE_SPORTS_BASE_URL="https://site.api.espn.com/apis"
PULSE_SPORTS_DEFAULT_COUNTRY="us"
PULSE_SPORTS_HEADLINE_COUNTRY="us"
PULSE_SPORTS_DEFAULT_LEAGUES="nfl,nba,mlb,nhl"
PULSE_SPORTS_FAVORITE_TEAMS=""

# ============================================================================
# Calendar Sync (ICS/WebCal)
# ============================================================================

# Provide one or more public/secret ICS/WebCal URLs (webcal:// links are accepted).
PULSE_CALENDAR_ICS_URLS=""

# Minutes between feed polls (minimum 1, defaults to 5).
PULSE_CALENDAR_REFRESH_MINUTES="5"

# How far ahead (in hours) to schedule reminders (defaults to 72 hours).
PULSE_CALENDAR_LOOKAHEAD_HOURS="72"

# Optional comma-separated list of attendee email addresses (lowercase) that
# should be treated as "me" when parsing ICS attendees. Used to detect declined
# events so they can be shown without firing reminders.
PULSE_CALENDAR_OWNER_EMAILS=""

# Optional comma-separated list of default notification times (in minutes before
# event start) to apply to all calendar events. These supplement any VALARM
# entries in the ICS file. Note: Google Calendar's default notification (usually
# 10 minutes before) is NOT included in the ICS export, so you should set at
# least "10" here to mimic that behavior. For example, "10,5" will add 10-minute
# and 5-minute reminders to all events. You can add additional default
# notifications that will apply to ALL events. Duplicate times (within 30 seconds)
# are automatically deduplicated.
PULSE_CALENDAR_DEFAULT_NOTIFICATIONS=""

# Marker used to detect all-day OOO events (case-insensitive match on SUMMARY).
PULSE_CALENDAR_OOO_MARKER="OOO"

# ============================================================================
# Work alarms & pauses
# ============================================================================

# Comma-separated ISO dates (YYYY-MM-DD) to skip alarms entirely.
PULSE_WORK_ALARM_SKIP_DATES=""

# Comma-separated weekdays to skip alarms (0=Mon..6=Sun or names like Mon,Fri).
PULSE_WORK_ALARM_SKIP_DAYS=""

# Set to "true" to hide declined events entirely (defaults to "false" - declined events
# are shown but reminders are suppressed).
# PULSE_CALENDAR_HIDE_DECLINED="false"

# ============================================================================
# Snapcast Client (optional)
# ============================================================================

# --- Core settings ---------------------------------------------------------
# PULSE_SNAPCLIENT — run snapclient so this Pulse shows up as a Snapcast player.
PULSE_SNAPCLIENT="false"

# PULSE_SNAPCAST_HOST — hostname/IP of your Snapserver instance.
PULSE_SNAPCAST_HOST=""

# PULSE_SNAPCAST_PORT — Snapserver PCM stream port (default 1704).
PULSE_SNAPCAST_PORT="1704"

# PULSE_SNAPCAST_CONTROL_PORT — Snapserver control channel port (default 1705).
PULSE_SNAPCAST_CONTROL_PORT="1705"

# --- Audio routing & tuning ------------------------------------------------
# PULSE_SNAPCLIENT_SOUNDCARD — snapclient --soundcard target (default, pipewire, hw:0,0, etc.).
PULSE_SNAPCLIENT_SOUNDCARD="default"

# PULSE_SNAPCLIENT_LATENCY_MS — optional snapclient --latency override (milliseconds).
PULSE_SNAPCLIENT_LATENCY_MS=""

# PULSE_SNAPCLIENT_EXTRA_ARGS — additional snapclient CLI flags (space-separated).
# Defaults to "--player pulse" so audio routes through PipeWire/Pulse.
PULSE_SNAPCLIENT_EXTRA_ARGS="--player pulse"

# PULSE_SNAPCLIENT_HOST_ID — optional friendly name override (defaults to hostname).
PULSE_SNAPCLIENT_HOST_ID=""

# ============================================================================
# Home Assistant Integration (optional)
# ============================================================================

# --- Base connection & Assist pipeline -------------------------------------
# HOME_ASSISTANT_BASE_URL — base URL for your Home Assistant instance (used for Assist + REST calls).
HOME_ASSISTANT_BASE_URL="http://homeassistant.local:8123"

# HOME_ASSISTANT_TOKEN — long-lived access token the assistant uses when calling Home Assistant APIs.
HOME_ASSISTANT_TOKEN=""

# HOME_ASSISTANT_VERIFY_SSL — keep "true" to verify TLS, or set "false" for self-signed certs.
HOME_ASSISTANT_VERIFY_SSL="true"

# HOME_ASSISTANT_ASSIST_PIPELINE — optional Assist pipeline ID to override HA’s default.
HOME_ASSISTANT_ASSIST_PIPELINE=""

# --- HA-hosted Wyoming endpoints -------------------------------------------
# Leave blank to keep using the direct Wyoming servers above.
# HOME_ASSISTANT_OPENWAKEWORD_HOST — HA-provided wyoming-openwakeword host.
HOME_ASSISTANT_OPENWAKEWORD_HOST=""

# HOME_ASSISTANT_OPENWAKEWORD_PORT — HA-provided wyoming-openwakeword port.
# When routing wake words such as "hey_house" through Home Assistant, point these
# to the HA add-on or container that runs wyoming-openwakeword. Drop custom
# models into the directory that service watches (e.g., /share/openwakeword on
# Home Assistant OS) and preload them (via --preload-model or the add-on UI) so
# the model name matches the value in PULSE_ASSISTANT_WAKE_WORDS_HA. Use
# bin/tools/list-wake-models.py to confirm which models each endpoint advertises.
HOME_ASSISTANT_OPENWAKEWORD_PORT=""

# HOME_ASSISTANT_WHISPER_HOST — HA-provided wyoming-whisper host.
HOME_ASSISTANT_WHISPER_HOST=""

# HOME_ASSISTANT_WHISPER_PORT — HA-provided wyoming-whisper port.
HOME_ASSISTANT_WHISPER_PORT=""

# HOME_ASSISTANT_STT_MODEL — optional model name to request from the HA-managed wyoming-whisper endpoint.
HOME_ASSISTANT_STT_MODEL=""

# HOME_ASSISTANT_PIPER_HOST — HA-provided wyoming-piper host.
HOME_ASSISTANT_PIPER_HOST=""

# HOME_ASSISTANT_PIPER_PORT — HA-provided wyoming-piper port.
HOME_ASSISTANT_PIPER_PORT=""

# --- Timer/reminder helpers ------------------------------------------------
# When set, the assistant calls HA services; otherwise it falls back to local timers/reminders.
# HOME_ASSISTANT_TIMER_ENTITY="timer.kitchen"
# HOME_ASSISTANT_REMINDER_SERVICE="notify.mobile_app_phone"
